# 🗒️ 프로젝트 소개
이 프로젝트는 CRUD로 일정 관리 앱을 만드는 프로그램입니다.
</br>

## 🏷️ API 명세서
| 구분 | Method | URL | 상태코드 |
|---|---|---|---|
| 일정 등록 | `POST` | /schedules | 200 |
| 일정 조회 | `GET` | /schedules | 200 |
| 일정 단건 조회 | `GET` | /schedules/`{id}` | 200 |
| 일정 수정 | `PATCH` | /schedules/`{id}` | 200 |
| 일정 삭제 | `DELETE` | /schedules/`{id}` | 200 |

</br>

## 요청 본문 및 응답 상세
### 1. 일정 등록 POST
```
{
    "name" : "홍길동",
    "contents" : "내용",
    "password" : "aaaaa"

}
```
```
{
    "id": 9,
    "name": "홍길동",
    "contents": "내용",
    "createdAt": "2024-12-09T19:13:22.754704",
    "updatedAt": "2024-12-09T19:13:22.754704"
}
```
### 2. 일정 수정 PATCH
```
{
    "contents" : "수정된 내용2",
    "name" : "수정된 홍길동2",
    "password" : "aaaaa"
}
```
```
{
    "id": 9,
    "name": "수정된 홍길동2",
    "contents": "수정된 내용2",
    "createdAt": "2024-12-09T19:13:23",
    "updatedAt": "2024-12-09T19:17:57"
}
```

## 오류 응답 코드
- 404 : 요청한 리소스를 찾을 수 없습니다.
- 405 : get메소드를 불러올 수 없습니다.
- 500 : 서버오류

</br>

## 🧲 ERD
![스크린샷 2024-12-06 21 02 49](https://github.com/user-attachments/assets/76ce935e-84af-4e75-9ba5-a4954c0bdf34)

</br>

## ⚔️ Trouble Shooting
### 1. 일정 생성 시 등록일자가 NOT NULL로 인식되어 오류
- not null은 필수 조건값에 해당된다.
- 필수조건에 값을 안넣어도 넣는 방법을 알아냈다.
- 내가 원하는 날짜값에 now()를 넣으면 쿼리 돌때 값이 들어간다는것이였다. </br>
하지만 나는 등록할때 등록일자가 들어가길 바래서 `toLocalDateTime()`로 변환해서 넣어줬다.
- <img width="703" alt="스크린샷 2024-12-09 17 43 00" src="https://github.com/user-attachments/assets/ce343899-2ccc-48bd-a2af-1ea0366e2920">
- 성공!

### 2. updateAt만 수정기능
- 일정을 수정을 할때 등록일자와 수정일자가 같은 일자와 같은시각으로 찍혔다.
- 등록할때는 동시에 해도 상관없었지만 수정할때는 등록일자는 그대로며 수정일자만 바껴야했다.
- 위에 보셨다싶이 수정일자에만 `now()`를 붙히면 되는 것이였다.
- gpt에게 도움을 받아서 쿼리를 수정하면 되는 것이였다.
- ![스크린샷 2024-12-09 19 34 12](https://github.com/user-attachments/assets/03ee689b-dd65-42ee-ab3a-92380faa4463)
- 성공!

</br>

## ✅ 마무리
많은 오류를 발견했지만 콘솔에 찍힌 에러를 봐도 잘 몰랐던 부분과 해결해낼수 없는 부분을 물어보고 해결해나갔다. </br>
같은 오류가 5번이상 나니까 멘탈이 잠깐 나갔다가 마음을 다시 고쳐 다시 시도했을때 성공했을때 뿌듯함이 느꼈다.

</br>
